<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <script>
    const API_URL = 'https://api.git-learn.com.br';
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Desfazer Altera√ß√µes</title>

    <link rel="stylesheet" href="/assets/css/gitcourse.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Victor+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">

    <style>
        .mermaid-container {
            display: block;
            margin: 25px 0;
            clear: both;
        }
    </style>

    <script src="/static/js/config.js"></script>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const token = localStorage.getItem('access_token');
        if (!token) {
            window.location.href = '/landing.html';
            return;
        }
        const logoutBtn = document.getElementById('logoutButton');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', (e) => {
                e.preventDefault();
                localStorage.removeItem('access_token');
                window.location.href = '/landing.html';
            });
        }
    });
    </script>

    <!-- Mermaid -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true });</script>
</head>

<body class="intro-page">

<div class="container">

    <h1>Desfazendo altera√ß√µes</h1>

    <p class="p-styled spaced-p">
        Um dos grandes benef√≠cios de rastrear o hist√≥rico de um projeto com Git √© a capacidade de desfazer altera√ß√µes
        em diferentes est√°gios do fluxo de trabalho.
    </p>

    <p class="p-styled spaced-p">Existem tr√™s cen√°rios principais de desfazer no Git:</p>

    <ul>
        <li class="left-list">Desfazer altera√ß√µes no diret√≥rio de trabalho antes do staged.</li>
        <li class="left-list">Desfazer altera√ß√µes ap√≥s o staged e antes do commit.</li>
        <li class="left-list">Desfazer altera√ß√µes j√° comitadas.</li>
    </ul>

    <p class="p-styled spaced-p">
        Os exerc√≠cios a seguir utilizam o arquivo <strong>pilots.html</strong>.
    </p>

    <p class="p-styled spaced-p"><strong>Mudan√ßa n√£o desejada ‚Äî exerc√≠cio</strong></p>

    <p class="p-styled spaced-p">
        Para demonstrar cada um dos cen√°rios acima, vamos simular altera√ß√µes no arquivo.
    </p>

    <img src="/static/images/alpha.webp" alt="Altera√ß√£o inicial no arquivo pilots.html" class="img-full">

    <p class="p-styled spaced-p">
        Salve a altera√ß√£o e visualize no navegador para confirmar o efeito.
    </p>

    <p class="p-styled spaced-p">
        <strong>1 ‚Äî Desfazendo mudan√ßas antes de adicion√°-las ao staged</strong>
    </p>

    <p class="p-styled spaced-p">
        Para recuperar as palavras perdidas, podemos restaurar o arquivo diretamente do √∫ltimo commit.
    </p>

    <!-- MERMAID 1 -->
    <div class="mermaid-container">
        <div class="mermaid">
flowchart LR
    A["Working Directory<br>(Diret√≥rio de Trabalho)"] --> B["Staging Area<br>(Index)"]
    B --> C["Repository<br>(.git)"]
        </div>
    </div>

    <img src="/static/images/1-checkout.webp" alt="git checkout restaurando arquivo" class="img-full">

    <p class="p-styled spaced-p">
        Abra o arquivo <em>pilots.html</em> novamente para confirmar que foi restaurado.
    </p>

    <p class="p-styled spaced-p">
        <strong>2 ‚Äî Desfazendo mudan√ßas depois de adicion√°-las ao staged</strong>
    </p>

    <img src="/static/images/2-add.webp" alt="Arquivo adicionado ao staged" class="img-full">

    <p class="p-styled spaced-p">
        Ao executar <code>git status</code>, vemos que o arquivo est√° staged.
    </p>

    <img src="/static/images/3-reset.webp" alt="git reset removendo arquivo do staged" class="img-full">

    <p class="p-styled spaced-p">
        O comando <code>git reset</code> removeu o arquivo do index, retornando-o ao diret√≥rio de trabalho.
    </p>

    <img src="/static/images/4-checkout.webp" alt="git checkout restaurando arquivo ap√≥s reset" class="img-full">

    <p class="p-styled spaced-p">
        <strong>3 ‚Äî Desfazendo mudan√ßas comitadas</strong>
    </p>

    <img src="/static/images/5-commit.webp" alt="Commit realizado" class="img-full">
    <img src="/static/images/6-log.webp" alt="git log mostrando commit" class="img-full">
    <img src="/static/images/7-revert.webp" alt="git revert aplicado" class="img-full">
    <img src="/static/images/8-log.webp" alt="git log ap√≥s revert" class="img-full">

    <h4>Marcando vers√µes</h4>

    <img src="/static/images/tag.webp" alt="Cria√ß√£o de tag" class="img-full">
    <img src="/static/images/git-st.webp" alt="git status ap√≥s tag" class="img-full">
    <img src="/static/images/git-push-st.webp" alt="git push com tag" class="img-full">

    <h1>Complemento ao processo de desfazer mudan√ßas</h1>

    <p class="p-styled spaced-p">
        O Git √© um poderoso sistema de controle de vers√£o que permite navegar entre estados do projeto com seguran√ßa.
    </p>

    <h4>Compreendendo as tr√™s se√ß√µes de um projeto Git</h4>

    <p class="p-styled spaced-p">
        Voc√™ pode estar se perguntando como o Git organiza internamente essas √°reas.
    </p>

    <!-- MERMAID 2 -->
    <div class="mermaid-container">
        <div class="mermaid">
flowchart LR
    A["Working Directory<br>(Diret√≥rio de Trabalho)"] --> B["Staging Area<br>(Index)"]
    B --> C["Repository<br>(.git)"]
        </div>
    </div>

    <p class="p-styled spaced-p">
        O diret√≥rio Git (<code>.git</code>) armazena todo o hist√≥rico e metadados do projeto.
    </p>

    <p class="p-styled spaced-p">
        O diret√≥rio de trabalho cont√©m os arquivos reais que voc√™ edita.
    </p>

    <p class="p-styled spaced-p">
        A √°rea de staging (index) guarda as altera√ß√µes que ser√£o inclu√≠das no pr√≥ximo commit.
    </p>

    <pre class="spaced-pre code-block"><code class="language-bash">git reset</code></pre>

    <p class="p-styled spaced-p">
        O <code>git reset</code> √© usado para retroceder altera√ß√µes em diferentes n√≠veis.
    </p>

    <h4>Modos do git reset</h4>

    <!-- MERMAID 3 -->
    <div class="mermaid-container">
        <div class="mermaid">
flowchart TD
    A["git reset"] --> B["--soft<br>Mant√©m staged<br>Move HEAD"]
    A --> C["--mixed (padr√£o)<br>Limpa staged<br>Mant√©m working dir"]
    A --> D["--hard<br>Limpa tudo<br>Descarta altera√ß√µes"]
        </div>
    </div>

    <p class="p-styled spaced-p">
        Digamos que voc√™ tenha feito um commit e deseje desfaz√™-lo sem perder o conte√∫do.
    </p>

    <div class="image-container">
        <img src="/static/images/commit_exemplo.webp" alt="Exemplo de commit" class="img-full">
    </div>

    <div class="image-container">
        <img src="/static/images/reset.webp" alt="Exemplo de git reset" class="img-full">
    </div>

    <p class="p-styled spaced-p">
        Neste exemplo, o reset ajusta o ponteiro HEAD e redefine o estado do projeto.
    </p>

    <h4>git revert</h4>

    <p class="p-styled spaced-p">
        O <code>git revert</code> cria um novo commit que desfaz altera√ß√µes anteriores sem modificar o hist√≥rico.
    </p>

    <img src="/static/images/git-reflog.webp" alt="git reflog" class="img-full">
    <img src="/static/images/git-revert-head.webp" alt="git revert HEAD" class="img-full">

    <h4>git reset x git revert</h4>

<div class="grid-compare">

    <!-- Cabe√ßalho -->
    <div class="grid-item header"></div>
    <div class="grid-item header"><strong>git reset</strong></div>
    <div class="grid-item header"><strong>git revert</strong></div>

    <!-- Linha 1 -->
    <div class="grid-item title">Muda o ponteiro HEAD</div>
    <div class="grid-item">
        ‚úî Sim  
        <div class="td-desc">Reposiciona o HEAD para um commit anterior.</div>
    </div>
    <div class="grid-item">
        ‚úñ N√£o  
        <div class="td-desc">HEAD permanece no commit atual.</div>
    </div>

    <!-- Linha 2 -->
    <div class="grid-item title">Cria novo commit</div>
    <div class="grid-item">
        ‚úñ N√£o  
        <div class="td-desc">Apenas altera ponteiros e √°reas internas.</div>
    </div>
    <div class="grid-item">
        ‚úî Sim  
        <div class="td-desc">Gera um commit que desfaz outro.</div>
    </div>

    <!-- Linha 3 -->
    <div class="grid-item title">Descarta mudan√ßas</div>
    <div class="grid-item">
        ‚úî Sim  
        <div class="td-desc">Pode descartar conte√∫do dependendo do modo.</div>
    </div>
    <div class="grid-item">
        ‚úñ N√£o  
        <div class="td-desc">Nenhuma altera√ß√£o √© perdida.</div>
    </div>

    <!-- Linha 4 -->
    <div class="grid-item title">Preserva hist√≥rico</div>
    <div class="grid-item">
        ‚úñ N√£o  
        <div class="td-desc">Pode reescrever hist√≥rico.</div>
    </div>
    <div class="grid-item">
        ‚úî Sim  
        <div class="td-desc">Hist√≥rico permanece intacto.</div>
    </div>

    <!-- Linha 5 -->
    <div class="grid-item title">Uso recomendado</div>
    <div class="grid-item">
        ‚úî Ajustes locais  
        <div class="td-desc">Limpar staged, reorganizar commits.</div>
    </div>
    <div class="grid-item">
        ‚úî Reposit√≥rios remotos  
        <div class="td-desc">Reverter commits j√° publicados.</div>
    </div>

    <!-- Linha 6 -->
    <div class="grid-item title">Risco</div>
    <div class="grid-item">
        ‚ö† Alto  
        <div class="td-desc">Pode causar perda de dados com <code>--hard</code>.</div>
    </div>
    <div class="grid-item">
        üü¢ Baixo  
        <div class="td-desc">Sempre seguro, nunca apaga hist√≥rico.</div>
    </div>

    <!-- Linha 7 -->
    <div class="grid-item title">Impacto no remoto</div>
    <div class="grid-item">
        ‚ö† Pode exigir <code>push --force</code>  
        <div class="td-desc">Perigoso em equipes.</div>
    </div>
    <div class="grid-item">
        üü¢ Push normal  
        <div class="td-desc">Sem riscos para colaboradores.</div>
    </div>

</div>





<footer class="footer">

    <div class="footer-copyright">
        ¬© 2025 Curso de Git. Todos os direitos reservados.
    </div>

    <div class="footer-flex">
        <nav class="footer-nav">
            <a href="13-git-diff.html" class="footer-link">‚Üê Voltar</a>
            <a href="15-git-init.html" class="footer-link">Pr√≥ximo: Git Init ‚Üí</a>
        </nav>

        <div class="footer-buttons">
            <button id="logoutButton" type="button" class="btn-footer-primary">Logout</button>
            <button type="button" id="markCompletedButton" data-topic-id="14" class="btn-footer-primary">
                Conclu√≠do ‚úì
            </button>
        </div>
    </div>

    <div class="footer-instruction">
        Para sair da sua conta, clique em Logout. Para registrar seu progresso, clique em Conclu√≠do.
    </div>

    <div class="footer-badges">
        <a href="https://pages.github.com/" class="github-link">
            <span>üêô GitHub Pages</span>
            <img src="/static/images/github-mark-white.png" alt="GitHub Logo" class="footer-logo">
        </a>
        <a href="https://jigsaw.w3.org/css-validator/check/referer" class="w3c-link">
            <img src="https://jigsaw.w3.org/css-validator/images/vcss"
                 alt="CSS v√°lido!" class="footer-logo" width="45" height="16">
        </a>
    </div>

</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-bash.min.js"></script>
<script>Prism.highlightAll();</script>
<script src="/static/js/git-course-functions.js"></script>

</body>
</html>
